<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Primary Income Sources</title>

<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
  }

  .container {
    display: flex;
    gap: 30px;
    align-items: flex-start;
  }

  .table-section,
  .chart-section {
    flex: 1;
    min-width: 300px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 15px;
  }

  th, td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: left;
  }

  th {
    background-color: #4CAF50;
    color: white;
  }

  tr:nth-child(even) {
    background-color: #f9f9f9;
  }

  tr.total-row {
    font-weight: bold;
    background-color: #e8f5e9;
  }

  #chartdiv {
    width: 100%;
    height: 500px;
  }

  /* Mobile responsiveness */
  @media (max-width: 900px) {
    .container {
      flex-direction: column;
    }
  }
</style>

<!-- amCharts -->
<script src="https://cdn.amcharts.com/lib/5/index.js"></script>
<script src="https://cdn.amcharts.com/lib/5/percent.js"></script>
<script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
</head>

<body>

<h2>Primary Income Sources</h2>

<div class="container">

  <!-- TABLE -->
  <div class="table-section">
    <table>
      <thead>
        <tr>
          <th>Income Source</th>
          <th>No. of Persons</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Van Driver</td>
          <td>12</td>
        </tr>
        <tr>
          <td>Day Labour</td>
          <td>7</td>
        </tr>
        <tr>
          <td>Handicraft</td>
          <td>4</td>
        </tr>
        <tr>
          <td>Barber</td>
          <td>2</td>
        </tr>
        <tr>
          <td>Home Tutor</td>
          <td>1</td>
        </tr>
        <tr>
          <td>Mason</td>
          <td>1</td>
        </tr>
        <tr>
          <td>Housewife</td>
          <td>1</td>
        </tr>
        <tr class="total-row">
          <td>Total</td>
          <td>28</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- CHART -->
  <div class="chart-section">
    <div id="chartdiv"></div>
  </div>

</div>

<script>
am5.ready(function () {

  var root = am5.Root.new("chartdiv");

  root.setThemes([
    am5themes_Animated.new(root)
  ]);

  // Chart
  var chart = root.container.children.push(
    am5percent.PieChart.new(root, {
      layout: root.verticalLayout
    })
  );

  // Series
  var series = chart.series.push(
    am5percent.PieSeries.new(root, {
      valueField: "value",
      categoryField: "category",
      fillField: "fill" // ðŸŽ¨ enables color control
    })
  );

  // Labels inside slices (clean, no leader lines)
  series.labels.template.setAll({
    textType: "circular",
    centerX: 0,
    centerY: 0
  });

  series.ticks.template.set("visible", false);

  series.slices.template.setAll({
    stroke: am5.color(0xffffff),
    strokeWidth: 2,
    cornerRadius: 6
  });

  // ðŸ”½ CHANGE COLORS HERE ANYTIME
  series.data.setAll([
    { category: "Van Driver", value: 12, fill: am5.color(0x4CAF50) },
    { category: "Day Labour", value: 7, fill: am5.color(0xFF9800) },
    { category: "Handicraft", value: 4, fill: am5.color(0x03A9F4) },
    { category: "Barber", value: 2, fill: am5.color(0x9C27B0) },
    { category: "Home Tutor", value: 1, fill: am5.color(0x795548) },
    { category: "Mason", value: 1, fill: am5.color(0x607D8B) },
    { category: "Housewife", value: 1, fill: am5.color(0xE91E63) }
  ]);

  series.appear(1000, 100);

});
</script>

</body>
</html>

