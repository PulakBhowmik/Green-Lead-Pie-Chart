<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Household Composition</title>

<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
  }

  .container {
    display: flex;
    gap: 30px;
    align-items: flex-start;
  }

  .table-section,
  .chart-section {
    flex: 1;
    min-width: 300px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 15px;
  }

  th, td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: left;
  }

  th {
    background-color: #4CAF50;
    color: white;
  }

  tr:nth-child(even) {
    background-color: #f9f9f9;
  }

  tr.total-row {
    font-weight: bold;
    background-color: #e8f5e9;
  }

  #chartdiv {
    width: 100%;
    height: 500px;
  }

  /* Mobile */
  @media (max-width: 900px) {
    .container {
      flex-direction: column;
    }
  }
</style>

<!-- amCharts -->
<script src="https://cdn.amcharts.com/lib/5/index.js"></script>
<script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
<script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
</head>

<body>

<h2>Household Composition</h2>

<div class="container">

  <!-- TABLE -->
  <div class="table-section">
    <table>
      <thead>
        <tr>
          <th>Category</th>
          <th>Households</th>
          <th>Percentage</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>With Children</td>
          <td>21</td>
          <td>â‰ˆ72%</td>
        </tr>
        <tr>
          <td>With Elderly</td>
          <td>3</td>
          <td>â‰ˆ10%</td>
        </tr>
        <tr>
          <td>With Disabilities</td>
          <td>5</td>
          <td>â‰ˆ17%</td>
        </tr>
        <tr class="total-row">
          <td>Total</td>
          <td>29</td>
          <td>100%</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- CHART -->
  <div class="chart-section">
    <div id="chartdiv"></div>
  </div>

</div>

<script>
am5.ready(function() {

  var root = am5.Root.new("chartdiv");

  root.setThemes([
    am5themes_Animated.new(root)
  ]);

  // Chart
  var chart = root.container.children.push(am5xy.XYChart.new(root, {
    panX: true,
    panY: true,
    wheelX: "panX",
    wheelY: "zoomX",
    pinchZoomX: true
  }));

  // Cursor
  var cursor = chart.set("cursor", am5xy.XYCursor.new(root, {}));
  cursor.lineY.set("visible", false);

  // Axes
  var xAxis = chart.xAxes.push(am5xy.CategoryAxis.new(root, {
    categoryField: "category",
    renderer: am5xy.AxisRendererX.new(root, {
      minGridDistance: 30
    })
  }));

  var yAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
    min: 0,
    renderer: am5xy.AxisRendererY.new(root, {
      strokeOpacity: 0.1
    })
  }));

  // Series
  var series = chart.series.push(am5xy.ColumnSeries.new(root, {
    name: "Households",
    xAxis: xAxis,
    yAxis: yAxis,
    valueYField: "value",
    categoryXField: "category",
    tooltip: am5.Tooltip.new(root, {
      labelText: "{category}: {value}"
    })
  }));

  series.columns.template.setAll({
    cornerRadiusTL: 6,
    cornerRadiusTR: 6,
    strokeOpacity: 0
  });

  // ðŸŽ¨ Easy color control
  series.columns.template.adapters.add("fill", (fill, target) =>
    target.dataItem.dataContext.fill
  );
  series.columns.template.adapters.add("stroke", (stroke, target) =>
    target.dataItem.dataContext.fill
  );

  // Data
  var data = [
    {
      category: "With Children",
      value: 21,
      fill: am5.color(0x4CAF50)
    },
    {
      category: "With Elderly",
      value: 3,
      fill: am5.color(0xFF9800)
    },
    {
      category: "With Disabilities",
      value: 5,
      fill: am5.color(0xF44336)
    }
  ];

  xAxis.data.setAll(data);
  series.data.setAll(data);

  // Animation
  series.appear(1000);
  chart.appear(1000, 100);

});
</script>

</body>
</html>
